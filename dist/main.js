!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t){e.exports=require("http")},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("url")},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),s=n(5),a=n(6),u=n(17);(function(){return r(this,void 0,void 0,function(){var e,t,n,r,l;return i(this,function(i){switch(i.label){case 0:if(!(e=process.env.GITHUB_EVENT_PATH))throw new Error("Event is not present");if(!(t=process.env["INPUT_REPO-TOKEN"]))throw new Error("Input `repo-token` not provided");return[4,o.promises.readFile(e,{encoding:"utf8"})];case 1:return n=i.sent(),r=JSON.parse(n),l=s.buildAddAssigneesPayload(r),[4,new a.RestClient("assign-pr-creator-action","https://api.github.com",[new u.BasicCredentialHandler("token",t)],{headers:{Accept:"application/vnd.github.v3+json"}}).create(l.url,l.body)];case 2:return i.sent(),[2]}})})})().catch(function(e){process.stderr.write("Failed to assign PR to author: "+e.message),process.exit(1)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildAddAssigneesPayload=function(e){if(!e.repository)throw new Error("repository not given in event payload");if(!e.pull_request)throw new Error("event is not a pull_request event");if(!e.pull_request.user)throw new Error("event does not contain user information");if(!e.pull_request.user.login)throw new Error("user payload is malformed");return{url:"/repos/"+e.repository.owner.login+"/"+e.repository.name+"/issues/"+e.pull_request.number+"/assignees",body:{assignees:[e.pull_request.user.login]}}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(7),o=n(15);class s{constructor(e,t,n,r){this.client=new i.HttpClient(e,n,r),t&&(this._baseUrl=t)}options(e,t){return r(this,void 0,void 0,function*(){let n=o.getUrl(e,this._baseUrl),r=yield this.client.options(n,this._headersFromOptions(t));return this._processResponse(r,t)})}get(e,t){return r(this,void 0,void 0,function*(){let n=o.getUrl(e,this._baseUrl),r=yield this.client.get(n,this._headersFromOptions(t));return this._processResponse(r,t)})}del(e,t){return r(this,void 0,void 0,function*(){let n=o.getUrl(e,this._baseUrl),r=yield this.client.del(n,this._headersFromOptions(t));return this._processResponse(r,t)})}create(e,t,n){return r(this,void 0,void 0,function*(){let r=o.getUrl(e,this._baseUrl),i=this._headersFromOptions(n,!0),s=JSON.stringify(t,null,2),a=yield this.client.post(r,s,i);return this._processResponse(a,n)})}update(e,t,n){return r(this,void 0,void 0,function*(){let r=o.getUrl(e,this._baseUrl),i=this._headersFromOptions(n,!0),s=JSON.stringify(t,null,2),a=yield this.client.patch(r,s,i);return this._processResponse(a,n)})}replace(e,t,n){return r(this,void 0,void 0,function*(){let r=o.getUrl(e,this._baseUrl),i=this._headersFromOptions(n,!0),s=JSON.stringify(t,null,2),a=yield this.client.put(r,s,i);return this._processResponse(a,n)})}uploadStream(e,t,n,i){return r(this,void 0,void 0,function*(){let r=o.getUrl(t,this._baseUrl),s=this._headersFromOptions(i,!0),a=yield this.client.sendStream(e,r,n,s);return this._processResponse(a,i)})}_headersFromOptions(e,t){let n=(e=e||{}).additionalHeaders||{};if(n.Accept=e.acceptHeader||"application/json",t){let e=!1;for(let t in n)"content-type"==t.toLowerCase()&&(e=!0);e||(n["Content-Type"]="application/json; charset=utf-8")}return n}static dateTimeDeserializer(e,t){if("string"==typeof t){let e=new Date(t);if(!isNaN(e.valueOf()))return e}return t}_processResponse(e,t){return r(this,void 0,void 0,function*(){return new Promise((n,o)=>r(this,void 0,void 0,function*(){const r=e.message.statusCode,a={statusCode:r,result:null,headers:{}};let u,l;r==i.HttpCodes.NotFound&&n(a);try{(l=yield e.readBody())&&l.length>0&&(u=t&&t.deserializeDates?JSON.parse(l,s.dateTimeDeserializer):JSON.parse(l),t&&t.responseProcessor?a.result=t.responseProcessor(u):a.result=u),a.headers=e.message.headers}catch(e){}if(r>299){let e;e=u&&u.message?u.message:l&&l.length>0?l:"Failed request: ("+r+")";let t=new Error(e);t.statusCode=r,a.result&&(t.result=a.result),o(t)}else n(a)}))})}}t.RestClient=s},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),o=n(0),s=n(1);let a,u;var l;!function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"}(l=t.HttpCodes||(t.HttpCodes={}));const c=[l.MovedPermanently,l.ResourceMoved,l.SeeOther,l.TemporaryRedirect,l.PermanentRedirect],p=[l.BadGateway,l.ServiceUnavailable,l.GatewayTimeout],f=["OPTIONS","GET","DELETE","HEAD"],h=10,d=5;class g{constructor(e){this.message=e}readBody(){return new Promise((e,t)=>r(this,void 0,void 0,function*(){let t="";this.message.on("data",e=>{t+=e}),this.message.on("end",()=>{e(t)})}))}}var v;t.HttpClientResponse=g,t.isHttps=function(e){return"https:"===i.parse(e).protocol},function(e){e.HTTP_PROXY="HTTP_PROXY",e.HTTPS_PROXY="HTTPS_PROXY"}(v||(v={}));t.HttpClient=class{constructor(e,t,r){this._ignoreSslError=!1,this._allowRedirects=!0,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=e,this.handlers=t||[],this.requestOptions=r,r&&(null!=r.ignoreSslError&&(this._ignoreSslError=r.ignoreSslError),this._socketTimeout=r.socketTimeout,this._httpProxy=r.proxy,r.proxy&&r.proxy.proxyBypassHosts&&(this._httpProxyBypassHosts=[],r.proxy.proxyBypassHosts.forEach(e=>{this._httpProxyBypassHosts.push(new RegExp(e,"i"))})),this._certConfig=r.cert,this._certConfig&&(a=n(2),this._certConfig.caFile&&a.existsSync(this._certConfig.caFile)&&(this._ca=a.readFileSync(this._certConfig.caFile,"utf8")),this._certConfig.certFile&&a.existsSync(this._certConfig.certFile)&&(this._cert=a.readFileSync(this._certConfig.certFile,"utf8")),this._certConfig.keyFile&&a.existsSync(this._certConfig.keyFile)&&(this._key=a.readFileSync(this._certConfig.keyFile,"utf8"))),null!=r.allowRedirects&&(this._allowRedirects=r.allowRedirects),null!=r.maxRedirects&&(this._maxRedirects=Math.max(r.maxRedirects,0)),null!=r.keepAlive&&(this._keepAlive=r.keepAlive),null!=r.allowRetries&&(this._allowRetries=r.allowRetries),null!=r.maxRetries&&(this._maxRetries=r.maxRetries))}options(e,t){return this.request("OPTIONS",e,null,t||{})}get(e,t){return this.request("GET",e,null,t||{})}del(e,t){return this.request("DELETE",e,null,t||{})}post(e,t,n){return this.request("POST",e,t,n||{})}patch(e,t,n){return this.request("PATCH",e,t,n||{})}put(e,t,n){return this.request("PUT",e,t,n||{})}head(e,t){return this.request("HEAD",e,null,t||{})}sendStream(e,t,n,r){return this.request(e,t,n,r)}request(e,t,n,i){return r(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let r,o=this._prepareRequest(e,t,i),s=this._allowRetries&&-1!=f.indexOf(e)?this._maxRetries+1:1,a=0;for(;a<s;){if((r=yield this.requestRaw(o,n))&&r.message&&r.message.statusCode===l.Unauthorized){let e;for(let t=0;t<this.handlers.length;t++)if(this.handlers[t].canHandleAuthentication(r)){e=this.handlers[t];break}return e?e.handleAuthentication(this,o,n):r}let t=this._maxRedirects;for(;-1!=c.indexOf(r.message.statusCode)&&this._allowRedirects&&t>0;){const s=r.message.headers.location;if(!s)break;yield r.readBody(),o=this._prepareRequest(e,s,i),r=yield this.requestRaw(o,n),t--}if(-1==p.indexOf(r.message.statusCode))return r;(a+=1)<s&&(yield r.readBody(),yield this._performExponentialBackoff(a))}return r})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(e,t){return new Promise((n,r)=>{this.requestRawWithCallback(e,t,function(e,t){e&&r(e),n(t)})})}requestRawWithCallback(e,t,n){let r;"string"==typeof t&&(e.options.headers["Content-Length"]=Buffer.byteLength(t,"utf8"));let i=!1,o=(e,t)=>{i||(i=!0,n(e,t))},s=e.httpModule.request(e.options,e=>{let t=new g(e);o(null,t)});s.on("socket",e=>{r=e}),s.setTimeout(this._socketTimeout||18e4,()=>{r&&r.end(),o(new Error("Request timeout: "+e.options.path),null)}),s.on("error",function(e){o(e,null)}),t&&"string"==typeof t&&s.write(t,"utf8"),t&&"string"!=typeof t?(t.on("close",function(){s.end()}),t.pipe(s)):s.end()}_prepareRequest(e,t,n){const r={};r.parsedUrl=i.parse(t);const a="https:"===r.parsedUrl.protocol;r.httpModule=a?s:o;const u=a?443:80;return r.options={},r.options.host=r.parsedUrl.hostname,r.options.port=r.parsedUrl.port?parseInt(r.parsedUrl.port):u,r.options.path=(r.parsedUrl.pathname||"")+(r.parsedUrl.search||""),r.options.method=e,r.options.headers=this._mergeHeaders(n),r.options.headers["user-agent"]=this.userAgent,r.options.agent=this._getAgent(t),this.handlers&&!this._isPresigned(t)&&this.handlers.forEach(e=>{e.prepareRequest(r.options)}),r}_isPresigned(e){if(this.requestOptions&&this.requestOptions.presignedUrlPatterns){const t=this.requestOptions.presignedUrlPatterns;for(let n=0;n<t.length;n++)if(e.match(t[n]))return!0}return!1}_mergeHeaders(e){const t=e=>Object.keys(e).reduce((t,n)=>(t[n.toLowerCase()]=e[n],t),{});return this.requestOptions&&this.requestOptions.headers?Object.assign({},t(this.requestOptions.headers),t(e)):t(e||{})}_getAgent(e){let t,r=this._getProxy(e),a=r.proxyUrl&&r.proxyUrl.hostname&&!this._isBypassProxy(e);if(this._keepAlive&&a&&(t=this._proxyAgent),this._keepAlive&&!a&&(t=this._agent),t)return t;const l="https:"===i.parse(e).protocol;let c=100;if(this.requestOptions&&(c=this.requestOptions.maxSockets||o.globalAgent.maxSockets),a){u||(u=n(8));const e={maxSockets:c,keepAlive:this._keepAlive,proxy:{proxyAuth:r.proxyAuth,host:r.proxyUrl.hostname,port:r.proxyUrl.port}};let i;const o="https:"===r.proxyUrl.protocol;t=(i=l?o?u.httpsOverHttps:u.httpsOverHttp:o?u.httpOverHttps:u.httpOverHttp)(e),this._proxyAgent=t}if(this._keepAlive&&!t){const e={keepAlive:this._keepAlive,maxSockets:c};t=l?new s.Agent(e):new o.Agent(e),this._agent=t}return t||(t=l?s.globalAgent:o.globalAgent),l&&this._ignoreSslError&&(t.options=Object.assign(t.options||{},{rejectUnauthorized:!1})),l&&this._certConfig&&(t.options=Object.assign(t.options||{},{ca:this._ca,cert:this._cert,key:this._key,passphrase:this._certConfig.passphrase})),t}_getProxy(e){let t,n,r="https:"===i.parse(e).protocol,o=this._httpProxy,s=process.env[v.HTTPS_PROXY],a=process.env[v.HTTP_PROXY];return o||(s&&r?o={proxyUrl:s}:a&&(o={proxyUrl:a})),o&&(o.proxyUrl.length>0&&(t=i.parse(o.proxyUrl)),(o.proxyUsername||o.proxyPassword)&&(n=o.proxyUsername+":"+o.proxyPassword)),{proxyUrl:t,proxyAuth:n}}_isBypassProxy(e){if(!this._httpProxyBypassHosts)return!1;let t=!1;return this._httpProxyBypassHosts.forEach(n=>{n.test(e)&&(t=!0)}),t}_performExponentialBackoff(e){e=Math.min(h,e);const t=d*Math.pow(2,e);return new Promise(e=>setTimeout(()=>e(),t))}}},function(e,t,n){e.exports=n(9)},function(e,t,n){"use strict";n(10);var r,i=n(11),o=n(0),s=n(1),a=n(12),u=n(13),l=n(14);function c(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||o.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(e,n,r,i){for(var o=f(n,r,i),s=0,a=t.requests.length;s<a;++s){var u=t.requests[s];if(u.host===o.host&&u.port===o.port)return t.requests.splice(s,1),void u.request.onSocket(e)}e.destroy(),t.removeSocket(e)})}function p(e,t){var n=this;c.prototype.createSocket.call(n,e,function(r){var o=e.request.getHeader("host"),s=h({},n.options,{socket:r,servername:o?o.replace(/:.*$/,""):e.host}),a=i.connect(0,s);n.sockets[n.sockets.indexOf(r)]=a,t(a)})}function f(e,t,n){return"string"==typeof e?{host:e,port:t,localAddress:n}:e}function h(e){for(var t=1,n=arguments.length;t<n;++t){var r=arguments[t];if("object"==typeof r)for(var i=Object.keys(r),o=0,s=i.length;o<s;++o){var a=i[o];void 0!==r[a]&&(e[a]=r[a])}}return e}t.httpOverHttp=function(e){var t=new c(e);return t.request=o.request,t},t.httpsOverHttp=function(e){var t=new c(e);return t.request=o.request,t.createSocket=p,t},t.httpOverHttps=function(e){var t=new c(e);return t.request=s.request,t},t.httpsOverHttps=function(e){var t=new c(e);return t.request=s.request,t.createSocket=p,t},l.inherits(c,a.EventEmitter),c.prototype.addRequest=function(e,t,n,r){var i=this,o=h({request:e},i.options,f(t,n,r));i.sockets.length>=this.maxSockets?i.requests.push(o):i.createSocket(o,function(t){function n(){i.emit("free",t,o)}function r(e){i.removeSocket(t),t.removeListener("free",n),t.removeListener("close",r),t.removeListener("agentRemove",r)}t.on("free",n),t.on("close",r),t.on("agentRemove",r),e.onSocket(t)})},c.prototype.createSocket=function(e,t){var n=this,i={};n.sockets.push(i);var o=h({},n.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:!1});o.proxyAuth&&(o.headers=o.headers||{},o.headers["Proxy-Authorization"]="Basic "+new Buffer(o.proxyAuth).toString("base64")),r("making CONNECT request");var s=n.request(o);function a(o,a,l){if(s.removeAllListeners(),a.removeAllListeners(),200===o.statusCode)u.equal(l.length,0),r("tunneling connection has established"),n.sockets[n.sockets.indexOf(i)]=a,t(a);else{r("tunneling socket could not be established, statusCode=%d",o.statusCode);var c=new Error("tunneling socket could not be established, statusCode="+o.statusCode);c.code="ECONNRESET",e.request.emit("error",c),n.removeSocket(i)}}s.useChunkedEncodingByDefault=!1,s.once("response",function(e){e.upgrade=!0}),s.once("upgrade",function(e,t,n){process.nextTick(function(){a(e,t,n)})}),s.once("connect",a),s.once("error",function(t){s.removeAllListeners(),r("tunneling socket could not be established, cause=%s\n",t.message,t.stack);var o=new Error("tunneling socket could not be established, cause="+t.message);o.code="ECONNRESET",e.request.emit("error",o),n.removeSocket(i)}),s.end()},c.prototype.removeSocket=function(e){var t=this.sockets.indexOf(e);if(-1!==t){this.sockets.splice(t,1);var n=this.requests.shift();n&&this.createSocket(n,function(e){n.request.onSocket(e)})}},r=process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments);"string"==typeof e[0]?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:function(){},t.debug=r},function(e,t){e.exports=require("net")},function(e,t){e.exports=require("tls")},function(e,t){e.exports=require("events")},function(e,t){e.exports=require("assert")},function(e,t){e.exports=require("util")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(16);t.getUrl=function(e,t){const n=i.posix||i;if(t){if(e){const i=r.parse(t),o=r.parse(e);return o.protocol=o.protocol||i.protocol,o.auth=o.auth||i.auth,o.host=o.host||i.host,o.pathname=n.resolve(i.pathname,o.pathname),!o.pathname.endsWith("/")&&e.endsWith("/")&&(o.pathname+="/"),r.format(o)}return t}return e}},function(e,t){e.exports=require("path")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18);t.BasicCredentialHandler=r.BasicCredentialHandler;var i=n(19);t.BearerCredentialHandler=i.BearerCredentialHandler;var o=n(20);t.NtlmCredentialHandler=o.NtlmCredentialHandler;var s=n(24);t.PersonalAccessTokenCredentialHandler=s.PersonalAccessTokenCredentialHandler},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BasicCredentialHandler=class{constructor(e,t){this.username=e,this.password=t}prepareRequest(e){e.headers.Authorization="Basic "+new Buffer(this.username+":"+this.password).toString("base64"),e.headers["X-TFS-FedAuthRedirect"]="Suppress"}canHandleAuthentication(e){return!1}handleAuthentication(e,t,n){return null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BearerCredentialHandler=class{constructor(e){this.token=e}prepareRequest(e){e.headers.Authorization="Bearer "+this.token,e.headers["X-TFS-FedAuthRedirect"]="Suppress"}canHandleAuthentication(e){return!1}handleAuthentication(e,t,n){return null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1),o=n(21),s=n(22);t.NtlmCredentialHandler=class{constructor(e,t,n,r){this._ntlmOptions={},this._ntlmOptions.username=e,this._ntlmOptions.password=t,this._ntlmOptions.domain=void 0!==r?r:"",this._ntlmOptions.workstation=void 0!==n?n:""}prepareRequest(e){e.agent&&delete e.agent}canHandleAuthentication(e){if(e&&e.message&&401===e.message.statusCode){const t=e.message.headers["www-authenticate"];if(t){if(t.split(", ").indexOf("NTLM")>=0)return!0}}return!1}handleAuthentication(e,t,n){return new Promise((r,i)=>{this.handleAuthenticationPrivate(e,t,n,function(e,t){e&&i(e),t.readBody().then(()=>{r(t)})})})}handleAuthenticationPrivate(e,t,n,s){t.options=o.extend(t.options,{username:this._ntlmOptions.username,password:this._ntlmOptions.password,domain:this._ntlmOptions.domain,workstation:this._ntlmOptions.workstation}),!0===e.isSsl?t.options.agent=new i.Agent({keepAlive:!0}):t.options.agent=new r.Agent({keepAlive:!0});let a=this;this.sendType1Message(e,t,n,function(r,i){if(r)return s(r,null,null);i.readBody().then(()=>{setImmediate(function(){a.sendType3Message(e,t,n,i,s)})})})}sendType1Message(e,t,n,r){const i={headers:{Connection:"keep-alive",Authorization:s.createType1Message(this._ntlmOptions)},timeout:t.options.timeout||0,agent:t.httpModule},a={};return a.httpModule=t.httpModule,a.parsedUrl=t.parsedUrl,a.options=o.extend(i,o.omit(t.options,"headers")),e.requestRawWithCallback(a,n,r)}sendType3Message(e,t,n,r,i){if(!r.message.headers&&!r.message.headers["www-authenticate"])throw new Error("www-authenticate not found on response of second request");const a=s.parseType2Message(r.message.headers["www-authenticate"]),u={headers:{Authorization:s.createType3Message(a,this._ntlmOptions),Connection:"Close"},agent:t.httpModule},l={};return l.httpModule=t.httpModule,l.parsedUrl=t.parsedUrl,u.headers=o.extend(u.headers,t.options.headers),l.options=o.extend(u,o.omit(t.options,"headers")),e.requestRawWithCallback(l,n,i)}}},function(e,t,n){var r;(function(){var n=this,i=n._,o=Array.prototype,s=Object.prototype,a=Function.prototype,u=o.push,l=o.slice,c=s.toString,p=s.hasOwnProperty,f=Array.isArray,h=Object.keys,d=a.bind,g=Object.create,v=function(){},y=function(e){return e instanceof y?e:this instanceof y?void(this._wrapped=e):new y(e)};e.exports&&(t=e.exports=y),t._=y,y.VERSION="1.8.3";var m=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},_=function(e,t,n){return null==e?y.identity:y.isFunction(e)?m(e,t,n):y.isObject(e)?y.matcher(e):y.property(e)};y.iteratee=function(e,t){return _(e,t,1/0)};var w=function(e,t){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=e(o),a=s.length,u=0;u<a;u++){var l=s[u];t&&void 0!==n[l]||(n[l]=o[l])}return n}},N=function(e){if(!y.isObject(e))return{};if(g)return g(e);v.prototype=e;var t=new v;return v.prototype=null,t},T=function(e){return function(t){return null==t?void 0:t[e]}},x=Math.pow(2,53)-1,b=T("length"),M=function(e){var t=b(e);return"number"==typeof t&&t>=0&&t<=x};function L(e){function t(t,n,r,i,o,s){for(;o>=0&&o<s;o+=e){var a=i?i[o]:o;r=n(r,t[a],a,t)}return r}return function(n,r,i,o){r=m(r,o,4);var s=!M(n)&&y.keys(n),a=(s||n).length,u=e>0?0:a-1;return arguments.length<3&&(i=n[s?s[u]:u],u+=e),t(n,r,i,s,u,a)}}y.each=y.forEach=function(e,t,n){var r,i;if(t=m(t,n),M(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=y.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},y.map=y.collect=function(e,t,n){t=_(t,n);for(var r=!M(e)&&y.keys(e),i=(r||e).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=t(e[a],a,e)}return o},y.reduce=y.foldl=y.inject=L(1),y.reduceRight=y.foldr=L(-1),y.find=y.detect=function(e,t,n){var r;if(void 0!==(r=M(e)?y.findIndex(e,t,n):y.findKey(e,t,n))&&-1!==r)return e[r]},y.filter=y.select=function(e,t,n){var r=[];return t=_(t,n),y.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},y.reject=function(e,t,n){return y.filter(e,y.negate(_(t)),n)},y.every=y.all=function(e,t,n){t=_(t,n);for(var r=!M(e)&&y.keys(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(!t(e[s],s,e))return!1}return!0},y.some=y.any=function(e,t,n){t=_(t,n);for(var r=!M(e)&&y.keys(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(t(e[s],s,e))return!0}return!1},y.contains=y.includes=y.include=function(e,t,n,r){return M(e)||(e=y.values(e)),("number"!=typeof n||r)&&(n=0),y.indexOf(e,t,n)>=0},y.invoke=function(e,t){var n=l.call(arguments,2),r=y.isFunction(t);return y.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},y.pluck=function(e,t){return y.map(e,y.property(t))},y.where=function(e,t){return y.filter(e,y.matcher(t))},y.findWhere=function(e,t){return y.find(e,y.matcher(t))},y.max=function(e,t,n){var r,i,o=-1/0,s=-1/0;if(null==t&&null!=e)for(var a=0,u=(e=M(e)?e:y.values(e)).length;a<u;a++)(r=e[a])>o&&(o=r);else t=_(t,n),y.each(e,function(e,n,r){((i=t(e,n,r))>s||i===-1/0&&o===-1/0)&&(o=e,s=i)});return o},y.min=function(e,t,n){var r,i,o=1/0,s=1/0;if(null==t&&null!=e)for(var a=0,u=(e=M(e)?e:y.values(e)).length;a<u;a++)(r=e[a])<o&&(o=r);else t=_(t,n),y.each(e,function(e,n,r){((i=t(e,n,r))<s||i===1/0&&o===1/0)&&(o=e,s=i)});return o},y.shuffle=function(e){for(var t,n=M(e)?e:y.values(e),r=n.length,i=Array(r),o=0;o<r;o++)(t=y.random(0,o))!==o&&(i[o]=i[t]),i[t]=n[o];return i},y.sample=function(e,t,n){return null==t||n?(M(e)||(e=y.values(e)),e[y.random(e.length-1)]):y.shuffle(e).slice(0,Math.max(0,t))},y.sortBy=function(e,t,n){return t=_(t,n),y.pluck(y.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var O=function(e){return function(t,n,r){var i={};return n=_(n,r),y.each(t,function(r,o){var s=n(r,o,t);e(i,r,s)}),i}};y.groupBy=O(function(e,t,n){y.has(e,n)?e[n].push(t):e[n]=[t]}),y.indexBy=O(function(e,t,n){e[n]=t}),y.countBy=O(function(e,t,n){y.has(e,n)?e[n]++:e[n]=1}),y.toArray=function(e){return e?y.isArray(e)?l.call(e):M(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:M(e)?e.length:y.keys(e).length},y.partition=function(e,t,n){t=_(t,n);var r=[],i=[];return y.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},y.first=y.head=y.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:y.initial(e,e.length-t)},y.initial=function(e,t,n){return l.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},y.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:y.rest(e,Math.max(0,e.length-t))},y.rest=y.tail=y.drop=function(e,t,n){return l.call(e,null==t||n?1:t)},y.compact=function(e){return y.filter(e,y.identity)};var S=function(e,t,n,r){for(var i=[],o=0,s=r||0,a=b(e);s<a;s++){var u=e[s];if(M(u)&&(y.isArray(u)||y.isArguments(u))){t||(u=S(u,t,n));var l=0,c=u.length;for(i.length+=c;l<c;)i[o++]=u[l++]}else n||(i[o++]=u)}return i};function E(e){return function(t,n,r){n=_(n,r);for(var i=b(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}function k(e,t,n){return function(r,i,o){var s=0,a=b(r);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=t(l.call(r,s,a),y.isNaN))>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(r[o]===i)return o;return-1}}y.flatten=function(e,t){return S(e,t,!1)},y.without=function(e){return y.difference(e,l.call(arguments,1))},y.uniq=y.unique=function(e,t,n,r){y.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=_(n,r));for(var i=[],o=[],s=0,a=b(e);s<a;s++){var u=e[s],l=n?n(u,s,e):u;t?(s&&o===l||i.push(u),o=l):n?y.contains(o,l)||(o.push(l),i.push(u)):y.contains(i,u)||i.push(u)}return i},y.union=function(){return y.uniq(S(arguments,!0,!0))},y.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=b(e);r<i;r++){var o=e[r];if(!y.contains(t,o)){for(var s=1;s<n&&y.contains(arguments[s],o);s++);s===n&&t.push(o)}}return t},y.difference=function(e){var t=S(arguments,!0,!0,1);return y.filter(e,function(e){return!y.contains(t,e)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(e){for(var t=e&&y.max(e,b).length||0,n=Array(t),r=0;r<t;r++)n[r]=y.pluck(e,r);return n},y.object=function(e,t){for(var n={},r=0,i=b(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},y.findIndex=E(1),y.findLastIndex=E(-1),y.sortedIndex=function(e,t,n,r){for(var i=(n=_(n,r,1))(t),o=0,s=b(e);o<s;){var a=Math.floor((o+s)/2);n(e[a])<i?o=a+1:s=a}return o},y.indexOf=k(1,y.findIndex,y.sortedIndex),y.lastIndexOf=k(-1,y.findLastIndex),y.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i};var U=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=N(e.prototype),s=e.apply(o,i);return y.isObject(s)?s:o};y.bind=function(e,t){if(d&&e.bind===d)return d.apply(e,l.call(arguments,1));if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var n=l.call(arguments,2),r=function(){return U(e,r,t,this,n.concat(l.call(arguments)))};return r},y.partial=function(e){var t=l.call(arguments,1),n=function(){for(var r=0,i=t.length,o=Array(i),s=0;s<i;s++)o[s]=t[s]===y?arguments[r++]:t[s];for(;r<arguments.length;)o.push(arguments[r++]);return U(e,n,this,this,o)};return n},y.bindAll=function(e){var t,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(t=1;t<r;t++)e[n=arguments[t]]=y.bind(e[n],e);return e},y.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return y.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},y.delay=function(e,t){var n=l.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},y.defer=y.partial(y.delay,y,1),y.throttle=function(e,t,n){var r,i,o,s=null,a=0;n||(n={});var u=function(){a=!1===n.leading?0:y.now(),s=null,o=e.apply(r,i),s||(r=i=null)};return function(){var l=y.now();a||!1!==n.leading||(a=l);var c=t-(l-a);return r=this,i=arguments,c<=0||c>t?(s&&(clearTimeout(s),s=null),a=l,o=e.apply(r,i),s||(r=i=null)):s||!1===n.trailing||(s=setTimeout(u,c)),o}},y.debounce=function(e,t,n){var r,i,o,s,a,u=function(){var l=y.now()-s;l<t&&l>=0?r=setTimeout(u,t-l):(r=null,n||(a=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,s=y.now();var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(a=e.apply(o,i),o=i=null),a}},y.wrap=function(e,t){return y.partial(t,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},y.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},y.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},y.once=y.partial(y.before,2);var A=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function q(e,t){var n=P.length,r=e.constructor,i=y.isFunction(r)&&r.prototype||s,o="constructor";for(y.has(e,o)&&!y.contains(t,o)&&t.push(o);n--;)(o=P[n])in e&&e[o]!==i[o]&&!y.contains(t,o)&&t.push(o)}y.keys=function(e){if(!y.isObject(e))return[];if(h)return h(e);var t=[];for(var n in e)y.has(e,n)&&t.push(n);return A&&q(e,t),t},y.allKeys=function(e){if(!y.isObject(e))return[];var t=[];for(var n in e)t.push(n);return A&&q(e,t),t},y.values=function(e){for(var t=y.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},y.mapObject=function(e,t,n){t=_(t,n);for(var r,i=y.keys(e),o=i.length,s={},a=0;a<o;a++)s[r=i[a]]=t(e[r],r,e);return s},y.pairs=function(e){for(var t=y.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},y.invert=function(e){for(var t={},n=y.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},y.functions=y.methods=function(e){var t=[];for(var n in e)y.isFunction(e[n])&&t.push(n);return t.sort()},y.extend=w(y.allKeys),y.extendOwn=y.assign=w(y.keys),y.findKey=function(e,t,n){t=_(t,n);for(var r,i=y.keys(e),o=0,s=i.length;o<s;o++)if(t(e[r=i[o]],r,e))return r},y.pick=function(e,t,n){var r,i,o={},s=e;if(null==s)return o;y.isFunction(t)?(i=y.allKeys(s),r=m(t,n)):(i=S(arguments,!1,!1,1),r=function(e,t,n){return t in n},s=Object(s));for(var a=0,u=i.length;a<u;a++){var l=i[a],c=s[l];r(c,l,s)&&(o[l]=c)}return o},y.omit=function(e,t,n){if(y.isFunction(t))t=y.negate(t);else{var r=y.map(S(arguments,!1,!1,1),String);t=function(e,t){return!y.contains(r,t)}}return y.pick(e,t,n)},y.defaults=w(y.allKeys,!0),y.create=function(e,t){var n=N(e);return t&&y.extendOwn(n,t),n},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,t){return t(e),e},y.isMatch=function(e,t){var n=y.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var s=n[o];if(t[s]!==i[s]||!(s in i))return!1}return!0};var C=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof y&&(e=e._wrapped),t instanceof y&&(t=t._wrapped);var i=c.call(e);if(i!==c.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(y.isFunction(s)&&s instanceof s&&y.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var u=(n=n||[]).length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),o){if((u=e.length)!==t.length)return!1;for(;u--;)if(!C(e[u],t[u],n,r))return!1}else{var l,p=y.keys(e);if(u=p.length,y.keys(t).length!==u)return!1;for(;u--;)if(l=p[u],!y.has(t,l)||!C(e[l],t[l],n,r))return!1}return n.pop(),r.pop(),!0};y.isEqual=function(e,t){return C(e,t)},y.isEmpty=function(e){return null==e||(M(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length)},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=f||function(e){return"[object Array]"===c.call(e)},y.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(t){return c.call(t)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(e){return y.has(e,"callee")}),"object"!=typeof Int8Array&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&e!==+e},y.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===c.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,t){return null!=e&&p.call(e,t)},y.noConflict=function(){return n._=i,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=T,y.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(e,t,n){var r=Array(Math.max(0,e));t=m(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},y.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var R={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},I=y.invert(R),B=function(e){var t=function(t){return e[t]},n="(?:"+y.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};y.escape=B(R),y.unescape=B(I),y.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),y.isFunction(r)?r.call(e):r};var j=0;y.uniqueId=function(e){var t=++j+"";return e?e+t:t},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,G=function(e){return"\\"+H[e]};y.template=function(e,t,n){!t&&n&&(t=n),t=y.defaults({},t,y.templateSettings);var r=RegExp([(t.escape||F).source,(t.interpolate||F).source,(t.evaluate||F).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,s,a){return o+=e.slice(i,a).replace(D,G),i=a+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var a=function(e){return s.call(this,e,y)},u=t.variable||"obj";return a.source="function("+u+"){\n"+o+"}",a},y.chain=function(e){var t=y(e);return t._chain=!0,t};var z=function(e,t){return e._chain?y(t).chain():t};y.mixin=function(e){y.each(y.functions(e),function(t){var n=y[t]=e[t];y.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),z(this,n.apply(y,e))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=o[e];y.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],z(this,n)}}),y.each(["concat","join","slice"],function(e){var t=o[e];y.prototype[e]=function(){return z(this,t.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},void 0===(r=function(){return y}.apply(t,[]))||(e.exports=r)}).call(this)},function(e,t,n){var r=n(23),i={NTLM_NegotiateUnicode:1,NTLM_NegotiateOEM:2,NTLM_RequestTarget:4,NTLM_Unknown9:8,NTLM_NegotiateSign:16,NTLM_NegotiateSeal:32,NTLM_NegotiateDatagram:64,NTLM_NegotiateLanManagerKey:128,NTLM_Unknown8:256,NTLM_NegotiateNTLM:512,NTLM_NegotiateNTOnly:1024,NTLM_Anonymous:2048,NTLM_NegotiateOemDomainSupplied:4096,NTLM_NegotiateOemWorkstationSupplied:8192,NTLM_Unknown6:16384,NTLM_NegotiateAlwaysSign:32768,NTLM_TargetTypeDomain:65536,NTLM_TargetTypeServer:131072,NTLM_TargetTypeShare:262144,NTLM_NegotiateExtendedSecurity:524288,NTLM_NegotiateIdentify:1048576,NTLM_Unknown5:2097152,NTLM_RequestNonNTSessionKey:4194304,NTLM_NegotiateTargetInfo:8388608,NTLM_Unknown4:16777216,NTLM_NegotiateVersion:33554432,NTLM_Unknown3:67108864,NTLM_Unknown2:134217728,NTLM_Unknown1:268435456,NTLM_Negotiate128:536870912,NTLM_NegotiateKeyExchange:1073741824,NTLM_Negotiate56:2147483648},o={NTLM_TYPE1_FLAGS:i.NTLM_NegotiateUnicode+i.NTLM_NegotiateOEM+i.NTLM_RequestTarget+i.NTLM_NegotiateNTLM+i.NTLM_NegotiateOemDomainSupplied+i.NTLM_NegotiateOemWorkstationSupplied+i.NTLM_NegotiateAlwaysSign+i.NTLM_NegotiateExtendedSecurity+i.NTLM_NegotiateVersion+i.NTLM_Negotiate128+i.NTLM_Negotiate56,NTLM_TYPE2_FLAGS:i.NTLM_NegotiateUnicode+i.NTLM_RequestTarget+i.NTLM_NegotiateNTLM+i.NTLM_NegotiateAlwaysSign+i.NTLM_NegotiateExtendedSecurity+i.NTLM_NegotiateTargetInfo+i.NTLM_NegotiateVersion+i.NTLM_Negotiate128+i.NTLM_Negotiate56};function s(e){for(var t=function(e){for(var t={0:[0,0,0,0],1:[0,0,0,1],2:[0,0,1,0],3:[0,0,1,1],4:[0,1,0,0],5:[0,1,0,1],6:[0,1,1,0],7:[0,1,1,1],8:[1,0,0,0],9:[1,0,0,1],A:[1,0,1,0],B:[1,0,1,1],C:[1,1,0,0],D:[1,1,0,1],E:[1,1,1,0],F:[1,1,1,1]},n=e.toString("hex").toUpperCase(),r=[],i=0;i<n.length;i++){var o=n.charAt(i);r=r.concat(t[o])}return r}(e),n=[],r=0;r<t.length;r++)n.push(t[r]),(r+1)%7==0&&n.push(0);return function(e){for(var t={"0000":0,"0001":1,"0010":2,"0011":3,"0100":4,"0101":5,"0110":6,"0111":7,1e3:8,1001:9,1010:"A",1011:"B",1100:"C",1101:"D",1110:"E",1111:"F"},n=[],r=0;r<e.length&&!(r+7>e.length);r+=8){var i=""+e[r]+e[r+1]+e[r+2]+e[r+3],o=""+e[r+4]+e[r+5]+e[r+6]+e[r+7],s=new Buffer(t[i]+""+t[o],"hex");n.push(s)}return Buffer.concat(n)}(n)}function a(e){var t=new Buffer(e,"utf16le"),n=r.createHash("md4");return n.update(t),new Buffer(n.digest())}function u(e,t){var n=new Buffer(21);n.fill("\0"),e.copy(n,0,0,e.length);var i=[],o=r.createCipheriv("DES-ECB",s(n.slice(0,7)),"");return i.push(o.update(t.slice(0,8))),o=r.createCipheriv("DES-ECB",s(n.slice(7,14)),""),i.push(o.update(t.slice(0,8))),o=r.createCipheriv("DES-ECB",s(n.slice(14,21)),""),i.push(o.update(t.slice(0,8))),Buffer.concat(i)}t.createType1Message=function(e){var t=escape(e.domain.toUpperCase()),n=escape(e.workstation.toUpperCase()),r=o.NTLM_TYPE1_FLAGS;t&&""!==t||(r-=i.NTLM_NegotiateOemDomainSupplied);var s=0,a=new Buffer(40+t.length+n.length);return a.write("NTLMSSP\0",s,"NTLMSSP\0".length),s+="NTLMSSP\0".length,a.writeUInt32LE(1,s),s+=4,a.writeUInt32LE(r,s),s+=4,a.writeUInt16LE(t.length,s),s+=2,a.writeUInt16LE(t.length,s),s+=2,a.writeUInt32LE(40+n.length,s),s+=4,a.writeUInt16LE(n.length,s),s+=2,a.writeUInt16LE(n.length,s),s+=2,a.writeUInt32LE(40,s),s+=4,a.writeUInt8(5,s),s+=1,a.writeUInt8(1,s),s+=1,a.writeUInt16LE(2600,s),s+=2,a.writeUInt8(0,s),s+=1,a.writeUInt8(0,s),s+=1,a.writeUInt8(0,s),s+=1,a.writeUInt8(15,s),s+=1,a.write(n,s,n.length,"ascii"),s+=n.length,a.write(t,s,t.length,"ascii"),s+=t.length,"NTLM "+a.toString("base64")},t.parseType2Message=function(e,t){var n=e.match(/NTLM (.+)?/);if(!n||!n[1])return t(new Error("Couldn't find NTLM in the message type2 comming from the server"));var r=new Buffer(n[1],"base64"),o={};return o.signature=r.slice(0,8),o.type=r.readInt16LE(8),2!=o.type?t(new Error("Server didn't return a type 2 message")):(o.targetNameLen=r.readInt16LE(12),o.targetNameMaxLen=r.readInt16LE(14),o.targetNameOffset=r.readInt32LE(16),o.targetName=r.slice(o.targetNameOffset,o.targetNameOffset+o.targetNameMaxLen),o.negotiateFlags=r.readInt32LE(20),o.serverChallenge=r.slice(24,32),o.reserved=r.slice(32,40),o.negotiateFlags&i.NTLM_NegotiateTargetInfo&&(o.targetInfoLen=r.readInt16LE(40),o.targetInfoMaxLen=r.readInt16LE(42),o.targetInfoOffset=r.readInt32LE(44),o.targetInfo=r.slice(o.targetInfoOffset,o.targetInfoOffset+o.targetInfoLen)),o)},t.createType3Message=function(e,t){var n,l,c,p,f=e.serverChallenge,h=t.username,d=t.password,g=e.negotiateFlags,v=g&i.NTLM_NegotiateUnicode,y=g&i.NTLM_NegotiateExtendedSecurity,m=escape(t.domain.toUpperCase()),_=escape(t.workstation.toUpperCase());v?(n=new Buffer(_,"utf16le"),l=new Buffer(m,"utf16le"),c=new Buffer(h,"utf16le"),p=new Buffer("","utf16le")):(n=new Buffer(_,"ascii"),l=new Buffer(m,"ascii"),c=new Buffer(h,"ascii"),p=new Buffer("","ascii"));var w=u(function(e){e=e.toUpperCase();var t=new Buffer(e,"ascii"),n=new Buffer(14);n.fill("\0");var i=14;t.length<14&&(i=t.length);t.copy(n,0,0,i);var o=n.slice(0,7),a=n.slice(7);function u(e){var t=s(e);return r.createCipheriv("DES-ECB",t,"").update("KGS!@#$%")}var l=u(o),c=u(a);return Buffer.concat([l,c])}(d),f),N=u(a(d),f);if(y){for(var T=a(d),x="",b=0;b<8;b++)x+=String.fromCharCode(Math.floor(256*Math.random()));var M=function(e,t,n){var i=new Buffer(n.length+16);i.fill("\0"),n.copy(i,0,0,n.length);var o=Buffer.concat([t,n]),s=r.createHash("md5");s.update(o);var a=s.digest(),l=u(e,a.slice(0,8));return{lmChallengeResponse:i,ntChallengeResponse:l}}(T,f,new Buffer(x,"ascii"));w=M.lmChallengeResponse,N=M.ntChallengeResponse}var L=0,O=new Buffer(72+l.length+c.length+n.length+w.length+N.length+p.length);return O.write("NTLMSSP\0",L,"NTLMSSP\0".length),L+="NTLMSSP\0".length,O.writeUInt32LE(3,L),L+=4,O.writeUInt16LE(w.length,L),L+=2,O.writeUInt16LE(w.length,L),L+=2,O.writeUInt32LE(72+l.length+c.length+n.length,L),L+=4,O.writeUInt16LE(N.length,L),L+=2,O.writeUInt16LE(N.length,L),L+=2,O.writeUInt32LE(72+l.length+c.length+n.length+w.length,L),L+=4,O.writeUInt16LE(l.length,L),L+=2,O.writeUInt16LE(l.length,L),L+=2,O.writeUInt32LE(72,L),L+=4,O.writeUInt16LE(c.length,L),L+=2,O.writeUInt16LE(c.length,L),L+=2,O.writeUInt32LE(72+l.length,L),L+=4,O.writeUInt16LE(n.length,L),L+=2,O.writeUInt16LE(n.length,L),L+=2,O.writeUInt32LE(72+l.length+c.length,L),L+=4,O.writeUInt16LE(p.length,L),L+=2,O.writeUInt16LE(p.length,L),L+=2,O.writeUInt32LE(72+l.length+c.length+n.length+w.length+N.length,L),L+=4,O.writeUInt32LE(o.NTLM_TYPE2_FLAGS,L),L+=4,O.writeUInt8(5,L),L++,O.writeUInt8(1,L),L++,O.writeUInt16LE(2600,L),L+=2,O.writeUInt8(0,L),L++,O.writeUInt8(0,L),L++,O.writeUInt8(0,L),L++,O.writeUInt8(15,L),L++,l.copy(O,L),L+=l.length,c.copy(O,L),L+=c.length,n.copy(O,L),L+=n.length,w.copy(O,L),L+=w.length,N.copy(O,L),L+=N.length,p.copy(O,L),L+=p.length,"NTLM "+O.toString("base64")}},function(e,t){e.exports=require("crypto")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PersonalAccessTokenCredentialHandler=class{constructor(e){this.token=e}prepareRequest(e){e.headers.Authorization="Basic "+new Buffer("PAT:"+this.token).toString("base64"),e.headers["X-TFS-FedAuthRedirect"]="Suppress"}canHandleAuthentication(e){return!1}handleAuthentication(e,t,n){return null}}}]);